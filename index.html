<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
  </head>
  <body>
    <script type="module">
      import init, { run_model } from './pkg/dbscan_rust_wasm.js';

      async function run() {
        await init();

        let data = {
          eps: 1.0,
          min_points: 3,
          inputs: [
            [1.5, 2.2],
            [1.0, 1.1],
            [1.2, 1.4],
            [0.8, 1.0],
            [3.7, 4.0],
            [3.9, 3.9],
            [3.6, 4.1],
            [10.0, 10.0],
          ],
        };
        const result = run_model(data);
        
        document.body.innerText += `Input data: \n${JSON.stringify(data, 0, 2)}\n`;
        document.body.innerText += `Result: \n${JSON.stringify(result, 0, 2)}\n`;
        console.log(result);
        window.run_model = run_model;
      }

      run();
    </script>
  </body>
</html>
